<html lang="es">
    <head>
        <meta charset="UTF-8">
        <title>Sistema de gestión de contenidos programáticos</title>
        <link rel="stylesheet" type="text/css" href="styles.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.0/jquery-ui.min.js"></script>
    </head>
    <body>
    <script type="text/javascript">

                var listaMaterias = [];

                function modificarMateria(number){
                    sessionStorage.materia = listaMaterias[number];
                    window.location.href = "modificarMateria.html";
                }

                cargarMaterias = function(){
                    var promise = function(data){
                        console.log(data);
                        $("#materias").children().remove();
                        for(i = 0; i < data.courses.length; i++){
                            listaMaterias.push(data.courses[i].name);
                            $("#materias").append("<li>\n<button type='button' onclick='modificarMateria("+i+")'>\n"+data.courses[i].name+"\n</button>\n</li>");
                        }
                    }
                    $.get("/programs/"+sessionStorage.programa+"/"+sessionStorage.linea).then(promise);
                };

                registrarMateria = function(){
                    window.location.href = "nuevaMateria.html"
                };

                $(document).ready(
                    function(){
                        if(sessionStorage.programa == null || sessionStorage.linea == null){
                            window.location.href = "home.html";
                        }
                        cargarMaterias();
                    }
                );
            </script>
    <div id="banner">
        <img src="/banner.png" width="100%">
    </div>
    <div id="courses">
        Materias de la linea
        <ul id="materias">

        </ul>
    </div>
    <p></p>
    <button type="button" onclick="registrarMateria()">Registrar una materia</button>
    <p></p>
    <div id="cenefa">
        Desarrollado por David Esteban Useche Pelaez - Laboratorio de informática. 2017
    </div>
    </body>
</html>